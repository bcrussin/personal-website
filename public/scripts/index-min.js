const FADE_TIMER=250,FADE_DELAY=200,NAVBAR=document.getElementById("navbar"),NAVBAR_BLURS=document.querySelectorAll(".navbar .hide-background"),TITLE=document.getElementById("title"),SUBTITLE=document.getElementById("subtitle"),SOCIAL_BUTTONS=document.getElementById("social-buttons"),LEARN_MORE=document.getElementById("learn-more"),MAIN_SECTION=document.getElementById("main-content"),CENTER_SENTINEL=document.getElementById("center-sentinel"),NAV_MENU=document.getElementById("nav-container"),NAV_MENU_ICON=document.getElementById("nav-menu-icon"),THEME_ICON=document.getElementById("theme-icon"),BUFFER_CANVAS=document.createElement("canvas"),BUFFER=BUFFER_CANVAS.getContext("2d"),LIGHT_TEXT="#e0e0e0",DARK_TEXT="#131313";let windowHeight,fadeQueue,tagsData,mouseX=0,mouseY=0,isTouchDevice=!1;function calculateHeaderSize(){let e=Math.min(window.innerHeight,1200);document.getElementById("home").style.minHeight=e+"px"}function startFaded(){for(elem of(fadeQueue=[TITLE,SUBTITLE,SOCIAL_BUTTONS,LEARN_MORE],fadeQueue))elem.classList.add("transparent")}function fadeIn(){fadeQueue.forEach(((e,t)=>{setTimeout((()=>{e.classList.remove("transparent"),e.classList.add("header-animation")}),200*t)}))}document.addEventListener("pointermove",(e=>{"mouse"==e.pointerType?(mouseX=e.clientX,mouseY=e.clientY):isTouchDevice=!0})),startFaded(),window.onload=()=>{calculateHeaderSize(),toggleNavMenu(!1),setThemeIcon(),fadeIn(),fetch("storage/tags.json").then((e=>e.json())).then((e=>{tagsData=e,populatePortfolio()}))};const portfolioItemObserver=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("highlighted"):e.target.classList.remove("highlighted")}))}),{root:null,rootMargin:"-50% 0% -50% 0%",threshold:0});function populatePortfolio(){fetch("storage/portfolio.json").then((e=>e.json())).then((e=>{for(project of e){let e=document.getElementById("portfolio-container");const t=createPortfolioItem(project);e.appendChild(t),portfolioItemObserver.observe(t)}}))}function createPortfolioItem(e){let t=document.createElement("div");t.classList.add("portfolio-item"),e.color&&t.style.setProperty("--glow-color",e.color);let o=document.createElement("img");o.alt="",o.src=e.image,t.appendChild(o);let n=document.createElement("div");n.classList.add("portfolio-summary"),t.appendChild(n);let a=document.createElement("h2");a.innerHTML=e.title,n.appendChild(a);let l=document.createElement("div");l.classList.add("tags-list");for(let t of e.tags){let e=document.createElement("span");e.classList.add("tag"),e.innerHTML=t,e.style.backgroundColor=tagsData?.[t]?.color??"lightgray",e.style.color=tagsData?.[t]?.isTextLight?"#e0e0e0":"#131313",l.appendChild(e)}n.appendChild(l);let r=document.createElement("div");r.classList.add("portfolio-description");for(let t of e.description){let e=document.createElement("p");e.innerHTML=t,r.appendChild(e)}n.appendChild(r);let s=document.createElement("div");s.classList.add("portfolio-links"),n.appendChild(s);let i=document.createElement("ul");s.appendChild(i);for(let t of e.links){let e=document.createElement("li"),o=document.createElement("a");o.innerHTML=t.label,o.href=t.href,t?.primary&&o.classList.add("primary"),e.appendChild(o),i.appendChild(e)}return t}const SCROLL_Y_MAX=140,START_FADE_OPACITY=.4,END_FADE_OPACITY=0,START_BG_OPACITY=0,END_BG_OPACITY=1,START_HEADER_SIZE=1,END_HEADER_SIZE=.8;function scrollToElem(e){this.toggleNavMenu(!1);let t=document.querySelector(e);window.scrollTo({top:t.getBoundingClientRect().top+window.scrollY-NAVBAR.clientHeight,behavior:"smooth"})}function fadeNavbarBackground(){let e=window.scrollY,t=1;window.scrollY<140&&(t=mapToRange(e,0,140,0,1));let o=1,n=.8,a=100;window.scrollY<560&&(o=mapToRange(e,0,560,0,1),n=mapToRange(e,0,560,1,.8),a=mapToRange(e,0,560,140,100)),NAVBAR.style.setProperty("--backdrop-filter-opacity",t),NAVBAR.style.setProperty("--navbar-opacity-percent",100*o+"%"),NAVBAR.style.setProperty("--navbar-header-size",n),NAVBAR.style.setProperty("--navbar-logo-height",a+"%")}window.addEventListener("scroll",(e=>{fadeNavbarBackground()})),fadeNavbarBackground();const NAV_MENU_ICONS={open:"images/icons/close.svg",closed:"images/icons/menu.svg"};function toggleNavMenu(e){let t;switch(e){case!0:NAV_MENU.classList.add("open"),t=NAV_MENU_ICONS.open;break;case!1:NAV_MENU.classList.remove("open"),t=NAV_MENU_ICONS.closed;break;default:NAV_MENU.classList.toggle("open");let e=NAV_MENU.classList.contains("open")?"open":"closed";t=NAV_MENU_ICONS[e]}NAV_MENU_ICON.animate([{transform:"rotateX(0)"},{transform:"rotateX(180deg)"}],{duration:200,iterations:1}),setTimeout((()=>NAV_MENU_ICON.src=t),100)}function setThemeIcon(){THEME_ICON.src=THEME_ICONS?.[currentTheme]}function mapToRange(e,t,o,n,a){return(e-t)*(a-n)/(o-t)+n}