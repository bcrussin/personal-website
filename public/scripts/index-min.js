const FADE_TIMER=250,FADE_DELAY=200,NAVBAR=document.getElementById("navbar"),NAVBAR_BLURS=document.querySelectorAll(".navbar .hide-background"),TITLE=document.getElementById("title"),SUBTITLE=document.getElementById("subtitle"),SOCIAL_BUTTONS=document.getElementById("social-buttons"),LEARN_MORE=document.getElementById("learn-more"),MAIN_SECTION=document.getElementById("main-content"),NAV_MENU=document.getElementById("nav-container"),NAV_MENU_ICON=document.getElementById("nav-menu-icon"),BUFFER_CANVAS=document.createElement("canvas"),BUFFER=BUFFER_CANVAS.getContext("2d"),LIGHT_TEXT="#e0e0e0",DARK_TEXT="#131313";let windowHeight,fadeQueue,tagsData,mouseX=0,mouseY=0,isTouchDevice=!1;function calculateHeaderSize(){let e=Math.min(window.innerHeight-NAVBAR.clientHeight,1200);document.getElementById("home").style.minHeight=e+"px"}function startFaded(){for(elem of(fadeQueue=[TITLE,SUBTITLE,SOCIAL_BUTTONS,LEARN_MORE],fadeQueue))elem.classList.add("transparent")}function fadeIn(){fadeQueue.forEach(((e,t)=>{setTimeout((()=>{e.classList.remove("transparent"),e.classList.add("header-animation")}),200*t)}))}function populatePortfolio(){function e(e){let t=document.createElement("div");t.classList.add("portfolio-item","orange-border");let n=document.createElement("img");n.alt="",n.src=e.image,t.appendChild(n);let o=document.createElement("div");o.classList.add("portfolio-summary"),t.appendChild(o);let a=document.createElement("h2");a.innerHTML=e.title,o.appendChild(a);let l=document.createElement("div");l.classList.add("tags-list");for(let t of e.tags){let e=document.createElement("span");e.classList.add("tag"),e.innerHTML=t,e.style.backgroundColor=tagsData?.[t]?.color??"lightgray",e.style.color=tagsData?.[t]?.isTextLight?"#e0e0e0":"#131313",l.appendChild(e)}o.appendChild(l);let d=document.createElement("div");d.classList.add("portfolio-description");for(let t of e.description){let e=document.createElement("p");e.innerHTML=t,d.appendChild(e)}o.appendChild(d);let i=document.createElement("div");i.classList.add("portfolio-links"),o.appendChild(i);let s=document.createElement("ul");i.appendChild(s);for(let t of e.links){let e=document.createElement("li"),n=document.createElement("a");n.innerHTML=t.label,n.href=t.href,t?.primary&&n.classList.add("primary"),e.appendChild(n),s.appendChild(e)}return t}fetch("storage/portfolio.json").then((e=>e.json())).then((t=>{for(project of t){document.getElementById("portfolio-container").appendChild(e(project))}}))}document.addEventListener("pointermove",(e=>{"mouse"==e.pointerType?(mouseX=e.clientX,mouseY=e.clientY):isTouchDevice=!0})),startFaded(),window.onload=()=>{calculateHeaderSize(),toggleNavMenu(!1),fadeIn(),fetch("storage/tags.json").then((e=>e.json())).then((e=>{tagsData=e,populatePortfolio()}))};const SCROLL_Y_MAX=140,START_FADE_OPACITY=.4,END_FADE_OPACITY=0,START_BG_OPACITY=0,END_BG_OPACITY=1,START_HEADER_SIZE=1,END_HEADER_SIZE=.8;function scrollToElem(e){this.toggleNavMenu(!1);let t=document.querySelector(e);MAIN_SECTION.scrollTo({top:t.getBoundingClientRect().top+MAIN_SECTION.scrollTop-NAVBAR.clientHeight,behavior:"smooth"})}function fadeNavbarBackground(){let e=MAIN_SECTION.scrollTop,t=1;MAIN_SECTION.scrollTop<140&&(t=mapToRange(e,0,140,0,1));let n=1,o=.8,a=100;MAIN_SECTION.scrollTop<560&&(n=mapToRange(e,0,560,0,1),o=mapToRange(e,0,560,1,.8),a=mapToRange(e,0,560,140,100)),NAVBAR.style.setProperty("--backdrop-filter-opacity",t),NAVBAR.style.setProperty("--navbar-opacity-percent",100*n+"%"),NAVBAR.style.setProperty("--navbar-header-size",o),NAVBAR.style.setProperty("--navbar-logo-height",a+"%")}MAIN_SECTION.addEventListener("scroll",(e=>{fadeNavbarBackground()})),fadeNavbarBackground();const NAV_MENU_ICONS={open:"images/icons/close.svg",closed:"images/icons/menu.svg"};function toggleNavMenu(e){let t;switch(e){case!0:NAV_MENU.classList.add("open"),t=NAV_MENU_ICONS.open;break;case!1:NAV_MENU.classList.remove("open"),t=NAV_MENU_ICONS.closed;break;default:NAV_MENU.classList.toggle("open");let e=NAV_MENU.classList.contains("open")?"open":"closed";t=NAV_MENU_ICONS[e]}NAV_MENU_ICON.animate([{transform:"rotateX(0)"},{transform:"rotateX(180deg)"}],{duration:200,iterations:1}),setTimeout((()=>NAV_MENU_ICON.src=t),100)}function mapToRange(e,t,n,o,a){return(e-t)*(a-o)/(n-t)+o}